{"version":3,"sources":["Redux/dialogsReducer.js","components/Navbar/Navbar.module.css","components/Friends/Friend/Friend.module.css","components/Users/Users.module.css","assets/images/204-2040760_contact-starwars-user-default-yoda-comments-users-icon.png","assets/images/preloader.svg","components/api/api.js","components/News/News.module.css","Redux/users-selector","common/FormsControl/FormsControle.module.css","serviceWorker.js","Redux/UsersReducer.js","Redux/auth-reducer.js","Redux/app-reducer.js","Redux/redux-store.js","components/Friends/Friend/Friend.jsx","components/Friends/Friends.jsx","components/Navbar/Navbar.jsx","components/Music/Music.jsx","components/Settings/Settings.jsx","components/News/News.jsx","common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","components/Users/UsersContainer.jsx","components/Header/Header.jsx","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","components/hoc/WithSuspense.jsx","App.js","index.js","common/Preloader/Preloader.jsx","common/FormsControl/FormsControl.js","components/Music/Music.module.css","components/Header/Header.module.css","components/Friends/Friends.module.css","common/Paginator/Paginator.module.css","components/Users/User.module.css","Redux/profileReducer.js","utils/validators/validators.js"],"names":["SEND_MESSAGE","initialState","dialogs","name","id","messages","message","sendMessageCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","withCredentials","headers","baseURL","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollow","userId","delete","follow","post","profileAPI","getProfile","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Boolean","window","location","hostname","match","FOLLOW","UNFOLLOW","SET_USERS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","userID","unfollowSuccess","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","map","u","followed","totalCount","filter","SET_USER_DATA","isAuth","setAuthUserData","payload","getAuthUserData","authReducer","initialised","appReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","usersPage","auth","form","formReducer","app","store","createStore","applyMiddleware","thunkMiddleware","Friend","props","className","s","friend","src","Friends","friends","box","Navbar","nav","item","to","activeClassName","active","Music","musicPage","text","heart","Settings","News","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","selectedPage","key","e","User","user","photos","small","photo","userPhoto","disabled","some","Users","UsersContainer","pageNumber","getUserThunkCreator","render","this","React","Component","compose","connect","bind","page","items","Header","header","loginBLock","link","HeaderContainer","LoginReduxForm","reduxForm","onSubmit","handleSubmit","Field","placeholder","validate","required","component","Input","error","formError","mail","length","stopSubmit","_error","formData","WithSuspense","Suspense","fallback","Preloader","ProfileContainer","lazy","DialogsContainer","App","initialisedApp","path","withRouter","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","preloader","Textarea","input","meta","hasError","touched","formControl","ADD_POST","SET_STATUS","posts","likes","profile","addPostActionCreator","newPostText","setStatus","getUserProfile","newPost","value","maxLengthCreator","maxLength"],"mappings":"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","file":"static/js/main.2f18c89e.chunk.js","sourcesContent":["\r\nconst SEND_MESSAGE = 'dialogReducer/SEND-MESSAGE';\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {name: \"Dimych\", id: 1},\r\n        {name: \"Andrey\", id: 2},\r\n        {name: \"Marat\", id: 3},\r\n        {name: \"Irina\", id: 4},\r\n        {name: \"Victoria\", id: 5}\r\n\r\n    ],\r\n    messages: [\r\n        {message: \"Hi!\", id: 1},\r\n        {message: \"Hello, mallo!\", id: 2},\r\n        {message: \"What's up!!\", id: 3}\r\n    ]\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE:\r\n            let body = action.newMessageBody;\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {message: body, id: 4}]\r\n            };\r\n        default:\r\n            return state;\r\n\r\n    }\r\n};\r\n\r\nexport const sendMessageCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\n\r\nexport default dialogsReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__1exjg\",\"item\":\"Navbar_item__3EAjn\",\"active\":\"Navbar_active__gVrgY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friend\":\"Friend_friend__u1Bj5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"users\":\"Users_users__MR8fW\"};","module.exports = __webpack_public_path__ + \"static/media/204-2040760_contact-starwars-user-default-yoda-comments-users-icon.4b2742fa.png\";","module.exports = __webpack_public_path__ + \"static/media/preloader.b6a3ac27.svg\";","import * as axios from \"axios\";\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    headers: {\"API-KEY\": \"eae6d81b-22f4-4f0d-b759-31429085c232\"},\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/'\r\n});\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n\r\n\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`, {})\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    // getProfile(userId) {\r\n    //     return profileAPI.getProfile(userId)\r\n    // }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`/profile/status`, {status: status})\r\n    }\r\n};\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get('auth/me')\r\n            .then(response => {\r\n                return response.data\r\n            })\r\n    },\r\n    login(email, password, rememberMe = false){\r\n        return instance.post(`/auth/login`, {email, password, rememberMe})\r\n    },\r\n    logout(){\r\n        return instance.delete(`/auth/login`)\r\n    }\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"News_dialogs__3W9y8\",\"dialog\":\"News_dialog__fGe4X\",\"dialogsItems\":\"News_dialogsItems__3oQXd\",\"messages\":\"News_messages__254kx\",\"message\":\"News_message__2g6J8\"};","module.exports = __webpack_public_path__ + \"static/media/users-selector.a03d99f7.bin\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControle_formControl__1KVTO\",\"error\":\"FormsControle_error__nM8Ud\",\"form\":\"FormsControle_form__19BdI\",\"formError\":\"FormsControle_formError__2_gC0\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {usersAPI} from \"../components/api/api\";\r\n\r\nconst FOLLOW = 'userReducer/FOLLOW';\r\nconst UNFOLLOW = 'userReducer/UNFOLLOW';\r\nconst SET_USERS = 'userReducer/SET-USERS';\r\nconst SET_CURRENT_PAGE = 'userReducer/SET-CURRENT-PAGE';\r\nconst SET_TOTAL_USERS = 'userReducer/SET-TOTAL-USERS';\r\nconst TOGGLE_IS_FETCHING = 'userReducer/TOGGLE-IS-FETCHING';\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'userReducer/TOGGLE_IS_FOLLOWING_PROGRESS';\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 10,\r\n    totalUsersCount: 0,\r\n    currentPage: 1,\r\n    isFetching: true,\r\n    followingInProgress: []\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case FOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {...u, followed: true}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case UNFOLLOW:\r\n            return {\r\n                ...state,\r\n                users: state.users.map(u => {\r\n                    if (u.id === action.id) {\r\n                        return {...u, followed: false}\r\n                    }\r\n                    return u\r\n                })\r\n            }\r\n        case SET_USERS:\r\n            return {...state, users: action.users};\r\n        case SET_CURRENT_PAGE:\r\n            return {...state, currentPage: action.currentPage};\r\n        case SET_TOTAL_USERS:\r\n            return {...state, totalUsersCount: action.totalCount};\r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n            return {\r\n                ...state, followingInProgress: action.isFetching\r\n                    ? [...state.followingInProgress, action.userId]\r\n                    : state.followingInProgress.filter(u => u !== action.userId)\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const followSuccess = (userID) => ({type: FOLLOW, id: userID});\r\nexport const unfollowSuccess = (userID) => ({type: UNFOLLOW, id: userID});\r\nexport const setUsers = (users) => ({type: SET_USERS, users});\r\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage});\r\nexport const setTotalUsersCount = (totalCount) => ({type: SET_TOTAL_USERS, totalCount});\r\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching});\r\nexport const toggleFollowingProgress = (isFetching, userId) => ({\r\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\r\n    isFetching,\r\n    userId\r\n});\r\n\r\n\r\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\r\n    dispatch(toggleIsFetching(true));\r\n    dispatch(setCurrentPage(page));\r\n    let data = await usersAPI.getUsers(page, pageSize)\r\n    dispatch(toggleIsFetching(false));\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setTotalUsersCount(data.totalCount))\r\n\r\n};\r\n\r\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\r\n    dispatch(toggleFollowingProgress(true, userId));\r\n    let data = await apiMethod(userId)\r\n    if (data.resultCode == 0) {\r\n        dispatch(actionCreator(userId))\r\n    }\r\n    dispatch(toggleFollowingProgress(false, userId))\r\n};\r\n\r\n\r\nexport const follow = (userId) => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\r\n};\r\n\r\nexport const unfollow = (userId) => async (dispatch) => {\r\n    await followUnfollowFlow(dispatch, userId, usersAPI.follow.bind(usersAPI), followSuccess)\r\n};\r\n\r\nexport default usersReducer;","import {authAPI} from \"../components/api/api\";\r\nimport {stopSubmit} from \"redux-form\"\r\n\r\n\r\nconst SET_USER_DATA = 'auth-reducer/SET_USER_DATA';\r\n\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SET_USER_DATA:\r\n            return {\r\n                ...state,\r\n                ...action.payload, //payload по сути - данные\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const setAuthUserData = (userId, email, login, isAuth) =>\r\n    ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}});\r\n\r\nexport const getAuthUserData = () => (dispatch) => {\r\n    return authAPI.me().then(data => {\r\n        if (data.resultCode === 0) {\r\n            let {id, email, login} = data.data;\r\n            dispatch(setAuthUserData(id, email, login, true))\r\n        }\r\n    })\r\n};\r\n\r\n\r\nexport const login = (mail, password, rememberMe) => (dispatch) => {\r\n    authAPI.login(mail, password, rememberMe)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(getAuthUserData())\r\n            } else {\r\n                let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\";\r\n                dispatch(stopSubmit(\"login\", {_error: message}))   //функция из redux-thunk? для того, чтобы остановить сабмит санки\r\n            }      // для ошибок, например. Передаем name формы, которую стопаем и Обьект св-во. которое явл проблемным и вызывает ошибку\r\n        })\r\n};\r\n\r\nexport const logout = () => (dispatch) => {\r\n    authAPI.logout()\r\n        .then(response => {\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setAuthUserData(null, null, null, false))\r\n            }\r\n        })\r\n};\r\n\r\nexport default authReducer;","import {getAuthUserData} from \"./auth-reducer\";\r\n\r\n\r\nconst INITIALISED_SUCCESS = 'app-reducer/INITIALISED_SUCCESS';\r\n\r\nlet initialState = {\r\n    initialised: false\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case INITIALISED_SUCCESS:\r\n            return {\r\n                ...state,\r\n                initialised: true\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const initialisedSuccess = () => ({type: INITIALISED_SUCCESS});\r\n\r\nexport const initialisedApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUserData())\r\n    promise.then(() => {\r\n        dispatch(initialisedSuccess())\r\n    })\r\n};\r\n\r\n\r\nexport default appReducer;","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport profileReducer from \"./profileReducer\";\r\nimport dialogsReducer from \"./dialogsReducer\";\r\nimport usersReducer from \"./UsersReducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from \"redux-thunk\";\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    form: formReducer,\r\n    app: appReducer\r\n});\r\n\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware));\r\n\r\nexport default store;","import React from 'react'\r\nimport s from './Friend.module.css'\r\n\r\n\r\nconst Friend = (props) => {\r\n\r\n\r\n    return <div className={s.friend}>\r\n        <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQaHsd-2Lrx7aSfh8kqlWbdS0b9WMNTlEG-w7yRKm1HpoxC4UGv&s'/>\r\n       <div>имя</div>\r\n          </div>\r\n}\r\n\r\nexport default Friend;","import React from 'react'\r\nimport s from './Friends.module.css'\r\nimport Friend from \"./Friend/Friend\";\r\n\r\n\r\nconst Friends = (props) => {\r\n\r\n\r\n    return <div className={s.friends}>\r\n        <div>Friends</div>\r\n        <div className={s.box}>\r\n            <Friend/>\r\n            <Friend/>\r\n            <Friend/>\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\nexport default Friends;","import React from 'react';\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Friends from \"../Friends/Friends\";\r\n\r\nconst Navbar = () => {\r\n    return <nav className={s.nav}> \r\n    <div  className ={s.item}>    \r\n      <NavLink to = \"/profile\" activeClassName={s.active}>Profile</NavLink>\r\n    </div>\r\n    {/* Ниже мы используем 2 класса для css. Если бы класс использзовался \r\n    глобально для всего дока, было бы classMame = \"item active\"  {'${s.item} ${s.active}'}  */}\r\n    <div className ={s.item}>\r\n      <NavLink to = \"/dialogs\" activeClassName={s.active}>Messages</NavLink>\r\n    </div>\r\n        <div className ={s.item}>\r\n            <NavLink to = \"/users\" activeClassName={s.active}>Users</NavLink>\r\n        </div>\r\n    <div className ={s.item}>\r\n    <NavLink to = \"/news\" activeClassName={s.active}>News</NavLink>\r\n    </div>\r\n    <div className ={s.item}>\r\n      <NavLink to = \"/music\" activeClassName={s.active}>Music</NavLink>\r\n    </div>\r\n    <div className ={s.item}>\r\n      <NavLink to = \"/settings\" activeClassName={s.active}>Settings</NavLink>\r\n    </div>\r\n        <div className = {s.item}>\r\n            <NavLink to = \"/friends\" activeClassName={s.active}><Friends/></NavLink>\r\n\r\n        </div>\r\n    </nav>\r\n}\r\n\r\n\r\nexport default Navbar;","import React from 'react'\r\nimport s from './Music.module.css';\r\n\r\n\r\nconst Music = () => {\r\n    return <div className={s.musicPage}>\r\n      <div className={s.text}>  Music of my </div> <div className={s.heart}></div>\r\n    </div>\r\n}\r\n\r\nexport default Music;\r\n","import React from 'react'\r\nimport s from './Settings.module.css';\r\n\r\n\r\nconst Settings = () => {\r\n    return <div>\r\n        Settings\r\n    </div>\r\n}\r\n\r\nexport default Settings;","import React from 'react'\r\nimport s from './News.module.css';\r\n\r\n\r\nconst News = () => {\r\n    return <div>\r\n       news\r\n    </div>\r\n}\r\n\r\nexport default News;","import React, {useState} from 'react'\r\nimport s from \"./Paginator.module.css\";\r\n\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={s.paginator}>\r\n        {portionNumber > 1 &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}>PREV</button>}\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p, i) => {\r\n                return <span className={currentPage === p && s.selectedPage}\r\n                             key={i}\r\n                             onClick={(e) => {\r\n                                 onPageChanged(p)\r\n                             }}>{p} </span>\r\n\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <button onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}>NEXT</button>}\r\n\r\n    </div>\r\n};\r\n\r\n\r\nexport default Paginator;","import React from 'react'\r\nimport s from \"./User.module.css\";\r\nimport photo from '../../assets/images/204-2040760_contact-starwars-user-default-yoda-comments-users-icon.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst User = ({user, followingInProgress, unfollow, follow}) => {\r\n\r\n\r\n    return <div className={s.user}>\r\n\r\n        <div>\r\n            <NavLink to={'/profile/' + user.id}>\r\n                <img src={user.photos.small != null ? user.photos.small : photo} className={s.userPhoto}/>\r\n            </NavLink>\r\n            <div>{user.name}</div>\r\n            <div>\r\n                {user.followed\r\n                    ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  follow(user.id)\r\n                              }}>unfollow</button>\r\n\r\n                    : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                              onClick={() => {\r\n                                  unfollow(user.id)\r\n                              }}>follow</button>\r\n                }\r\n            </div>\r\n        </div>\r\n        <div>{user.status}</div>\r\n        <div>\r\n            <div>location.country</div>\r\n            <div>location.city</div>\r\n        </div>\r\n\r\n\r\n    </div>\r\n}\r\n\r\n\r\nexport default User;","import React from 'react'\r\nimport s from \"./Users.module.css\";\r\nimport Paginator from \"../../common/Paginator/Paginator\";\r\nimport User from \"./User\"\r\n\r\n\r\nconst Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, ...props}) => {\r\n\r\n\r\n    return <div className={s.users}>\r\n        <Paginator currentPage={currentPage}\r\n                   totalItemsCount={totalUsersCount}\r\n                   pageSize={pageSize}\r\n                   onPageChanged={onPageChanged}/>\r\n        <div>\r\n            {props.users.map(u =>\r\n                <User key={u.id}\r\n                      user={u}\r\n                      followingInProgress={props.followingInProgress}\r\n                      unfollow={props.unfollow}\r\n                      follow={props.follow}/>\r\n            )}\r\n        </div>\r\n    </div>\r\n}\r\n\r\n\r\nexport default Users;","import React from 'react'\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    unfollow\r\n} from \"../../Redux/UsersReducer\";\r\nimport Users from \"./Users\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../Redux/users-selector\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUserThunkCreator(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.getUserThunkCreator(pageNumber, this.props.pageSize)\r\n    };\r\n\r\n    render = () => {\r\n        return <>\r\n\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   users={this.props.users}\r\n                   onPageChanged={this.onPageChanged}\r\n                   follow={this.props.follow}\r\n                   unfollow={this.props.unfollow}\r\n                   toggleFollowingProgress={this.props.toggleFollowingProgress}\r\n                   followingInProgress={this.props.followingInProgress}/>\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n\r\n    return {\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalUsersCount: state.usersPage.totalUsersCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    }\r\n};\r\n\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {follow, unfollow, getUserThunkCreator: requestUsers})\r\n)(UsersContainer);\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n        <img src='https://i.pinimg.com/564x/d1/c0/5b/d1c05bdf98bb225b3c98f5862ad3ed02.jpg'/>\r\n        <div className={s.loginBLock}>\r\n            {props.isAuth ?\r\n                <div>{props.login}  <button onClick={props.logout}>Log out</button></div>:\r\n                <NavLink className={s.link} to={'/Login'}>Login</NavLink>}\r\n        </div>\r\n    </header>\r\n\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport Header from \"./Header\";\r\nimport {connect} from \"react-redux\";\r\nimport {logout} from \"../../Redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    login: state.auth.login\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer);","import React from 'react';\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {connect} from \"react-redux\";\r\nimport s from \"./../../common/FormsControl/FormsControle.module.css\"\r\nimport {Input} from \"../../common/FormsControl/FormsControl\";\r\nimport {required} from \"../../utils/validators/validators\";\r\nimport {login, logout} from \"../../Redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n            <div>\r\n                <Field placeholder=\"email\"\r\n                       name={'email'}\r\n                       validate={[required]}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field placeholder=\"Passoword\"\r\n                       type={'password'}\r\n                       name={'password'}\r\n                       component={Input}/>\r\n            </div>\r\n            <div>\r\n                <Field component={Input}\r\n                       type={'checkbox'}\r\n                       name={'rememberMe'}\r\n                />\r\n            </div>\r\n            {props.error && <div className={s.formError}>\r\n                {props.error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>)\r\n};\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    };\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n    return (\r\n        <div className={s.form}>\r\n            <h1>Login</h1>\r\n            <LoginReduxForm onSubmit={onSubmit}/>\r\n        </div>)\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth\r\n});\r\n\r\n\r\nexport default connect(mapStateToProps, {login, logout})(Login);\r\n","import React from 'react';\r\nimport Preloader from \"../../common/Preloader/Preloader\";\r\n\r\n\r\nexport const WithSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return <React.Suspense fallback={<Preloader/>}>\r\n            <Component {...props}/>\r\n        </React.Suspense>\r\n    }\r\n\r\n\r\n};\r\n\r\nexport default WithSuspense;\r\n","import React from 'react';\nimport './App.css';\nimport Navbar from './components/Navbar/Navbar';\nimport {Route, withRouter} from \"react-router-dom\";\nimport Music from \"./components/Music/Music\";\nimport Settings from \"./components/Settings/Settings\";\nimport News from \"./components/News/News\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\n// import ProfileContainer from \"./components/Profile/ProfileContainer\";\n// import DialogsContainer from \"./components/Dialogs/DialogsContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initialisedApp} from \"./Redux/app-reducer\";\nimport Preloader from \"./common/Preloader/Preloader\";\nimport WithSuspense from \"./components/hoc/WithSuspense\";\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initialisedApp()\n    }\n\n    render() {\n        if (!this.props.initialised) {\n            return <Preloader/>\n        }\n        return <div className='app-wrapper'>\n            <HeaderContainer/>\n            <Navbar/>\n            <div className='app-wrapper-content'>\n                <Route path='/profile/:userId?' render={WithSuspense(ProfileContainer)}/>\n                <Route path='/dialogs' render={() => {\n                    return <React.Suspense fallback={<Preloader/>}>\n                    <DialogsContainer/>\n                    </React.Suspense>}}/>\n                <Route path='/users' render={() => <UsersContainer/>}/>\n                <Route path='/news' render={() => <News/>}/>\n                <Route path='/music' render={() => <Music/>}/>\n                <Route path='/settings' render={() => <Settings/>}/>\n                <Route path='/login' render={() => <Login/>}/>\n                {/*<Route path='/friends' render ={()=> Friends}/>*/}\n            </div>\n        </div>\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialised: state.app.initialised\n});\n\nexport default compose(\n    withRouter,\n    connect(mapStateToProps, {initialisedApp})\n)(App)\n\n\n","import * as serviceWorker from './serviceWorker';\nimport store from \"./Redux/redux-store\";\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {BrowserRouter} from \"react-router-dom\";\nimport {Provider} from \"react-redux\";\n\n\n\n// let rerenderEntireTree = (state) => {\n    ReactDOM.render(\n        <BrowserRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </BrowserRouter>, document.getElementById('root'));\n// };\n//\n// rerenderEntireTree(store.getState());\n\n// store.subscribe(() => {\n//     let state = store.getState()\n//     rerenderEntireTree(state)\n// });\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import React from 'react';\r\nimport preloader from \"../../assets/images/preloader.svg\";\r\n\r\n\r\nconst Preloader = () => {\r\n    return <div>\r\n        <img src={preloader} />\r\n    </div>\r\n\r\n};\r\n\r\n\r\nexport default Preloader;","import React from \"react\";\r\nimport s from './FormsControle.module.css'\r\n\r\n// const FormControl = (props) => {\r\n//     const hasError = meta.touched && meta.error;\r\n//\r\n//     return (\r\n//         <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n//             <div>\r\n//                 {props.}\r\n//             </div>\r\n//             {hasError && <span>{meta.error}</span>}\r\n//         </div>)\r\n// };\r\n\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\")}>\r\n            <div><textarea {...input} {...props}/></div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>)\r\n};\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error;\r\n\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : \"\") }>\r\n            <div><input {...input} {...props}/></div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>)\r\n};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"musicPage\":\"Music_musicPage__IlZL1\",\"text\":\"Music_text__YdbNb\",\"heart\":\"Music_heart__jd0KW\",\"heartBeating\":\"Music_heartBeating__3Y0Ck\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__2uHqu\",\"loginBLock\":\"Header_loginBLock__3vrHv\",\"link\":\"Header_link__1KskL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"friends\":\"Friends_friends__3lPWs\",\"box\":\"Friends_box__3Ccid\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__3_Jdz\",\"selectedPage\":\"Paginator_selectedPage__3jUhp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3Runf\",\"userPhoto\":\"User_userPhoto__2ph7c\"};","import {profileAPI} from \"../components/api/api\";\r\n\r\nconst ADD_POST = 'profileReducer/ADD-POST';\r\nconst SET_USER_PROFILE = 'profileReducer/SET-USER-PROFILE';\r\nconst SET_STATUS = 'profileReducer/SET_STATUS';\r\n\r\n\r\nlet initialState = {\r\n\r\n    posts: [\r\n        {id: 1, message: 'Hi, everybody', likes: 10},\r\n        {id: 2, message: 'Who use this site?', likes: 17},\r\n        {id: 3, message: 'Hello!!!', likes: 3}\r\n    ],\r\n    profile: null,\r\n    status: '',\r\n\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST:\r\n            let newPost = {\r\n                id: 4,\r\n                message: action.newPostText,\r\n                likes: 0\r\n            };\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n                newPostText: ''\r\n            };\r\n        case SET_USER_PROFILE:\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            };\r\n        case SET_STATUS:\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\n\r\nexport const addPostActionCreator = (newPostText) => ({type: ADD_POST, newPostText});\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile});\r\nexport const setStatus = (status) => ({type: SET_STATUS, status});\r\n\r\n\r\nexport const getUserProfile = (userId) => (dispatch) => {\r\n    profileAPI.getProfile(userId)\r\n        .then(response => {\r\n            dispatch(setUserProfile(response.data))\r\n        })\r\n};\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(response => {\r\n            dispatch(setStatus(response.data))\r\n        })\r\n};\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(response => {\r\n            if (response.data.resultCode === 0)\r\n                dispatch(setStatus(status))\r\n        })\r\n};\r\n\r\n\r\nexport default profileReducer;","export const required = value => {\r\n     if(value) return undefined;\r\n\r\n     return \"Feild is required\"\r\n};\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n    if(value.length > maxLength) return `Max length is ${maxLength} symbols`;\r\n\r\n    return undefined;\r\n};"],"sourceRoot":""}